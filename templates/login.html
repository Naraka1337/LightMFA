{% extends 'base.html' %}

{% block content %}
<h2>Login</h2>

{% if step == 'credentials' %}
<form method="POST">
    <div class="form-group">
        <label>Email</label>
        <input type="email" name="email" required>
    </div>
    <div class="form-group">
        <label>Password</label>
        <input type="password" name="password" required>
    </div>
    <button type="submit" class="btn">Next</button>
</form>
<p>No account? <a href="{{ url_for('register') }}">Register</a></p>

{% elif step == 'mfa_select' %}
<h3>Select MFA Method</h3>
<p>Welcome back, {{ user.email }}</p>

<div class="flex-col">
    <a href="{{ url_for('mfa_email') }}" class="btn">Email OTP</a>
    <a href="{{ url_for('mfa_totp') }}" class="btn">Authenticator App (TOTP)</a>
    {% if user.face_embedding %}
    <a href="{{ url_for('mfa_face') }}" class="btn">Face Recognition</a>
    {% endif %}
</div>
{% endif %}

{% endblock %}