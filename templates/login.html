{% extends 'base.html' %}

{% block content %}
<h2>ğŸ”‘ Welcome Back</h2>
<p>Sign in to access your secure dashboard</p>

{% if step == 'credentials' %}
<form method="POST">
    <div class="form-group">
        <label>Email Address</label>
        <div class="input-wrapper">
            <span class="icon">ğŸ“§</span>
            <input type="email" name="email" required placeholder="you@example.com">
        </div>
    </div>
    <div class="form-group">
        <label>Password</label>
        <div class="input-wrapper">
            <span class="icon">ğŸ”’</span>
            <input type="password" name="password" required placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢">
        </div>
    </div>
    <div class="checkbox-group">
        <label>
            <input type="checkbox" name="remember">
            Remember Me
        </label>
        <a href="#">Forgot Password?</a>
    </div>
    <button type="submit" class="btn">ğŸš€ Continue</button>
</form>

<div class="divider"><span>or</span></div>

<!-- <div class="social-icons">
    <a href="#" class="social-icon" title="Google">G</a>
    <a href="#" class="social-icon" title="GitHub">âŒ˜</a>
    <a href="#" class="social-icon" title="Microsoft">M</a>
</div> -->

<p class="form-footer">New here? <a href="{{ url_for('register') }}">Create an account</a></p>

{% elif step == 'mfa_select' %}
<h2>ğŸ›¡ï¸ Verify Identity</h2>
<p>Welcome back, <strong>{{ user.email }}</strong><br>Choose your verification method</p>

<div class="mfa-options">
    <a href="{{ url_for('mfa_email') }}" class="mfa-btn">
        <div class="icon">ğŸ“§</div>
        <div>
            <div class="label">Email OTP</div>
            <div class="desc">Receive a 6-digit code via email</div>
        </div>
    </a>

    <a href="{{ url_for('mfa_totp') }}" class="mfa-btn">
        <div class="icon">ğŸ“±</div>
        <div>
            <div class="label">Authenticator App</div>
            <div class="desc">Use Google Authenticator or Authy</div>
        </div>
    </a>

    {% if user.face_embedding %}
    <a href="{{ url_for('mfa_face') }}" class="mfa-btn">
        <div class="icon">ğŸ‘¤</div>
        <div>
            <div class="label">Face Recognition</div>
            <div class="desc">Verify using your camera</div>
        </div>
    </a>
    {% endif %}
</div>
{% endif %}

{% endblock %}